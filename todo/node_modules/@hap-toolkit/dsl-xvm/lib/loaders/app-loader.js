"use strict";var _loaderUtils=require("loader-utils"),_compiler=require("@hap-toolkit/compiler"),_uxFragmentUtils=require("./ux-fragment-utils");module.exports=async function(p){const t=[],e=(0,_compiler.parseFragmentsWithCache)(p,this.resourcePath),r=await(0,_uxFragmentUtils.parseImportList)(this,e.import);r.length&&t.push((0,_uxFragmentUtils.processImportFrag)(this,r,[]));const a=(0,_loaderUtils.stringifyRequest)(this,"./manifest.json");return t.push(`\nvar $app_style$ = ${(0,_uxFragmentUtils.processStyleFrag)(this,e.style,"app")}\nvar $app_script$ = ${(0,_uxFragmentUtils.processScriptFrag)(this,e.script,"app")}\n$app_define$('@app-application/app', [], function ($app_require$, $app_exports$, $app_module$) {\n  ${e.script.length?`\n  $app_script$($app_module$, $app_exports$, $app_require$)\n  if ($app_exports$.__esModule && $app_exports$.default) {\n    $app_module$.exports = $app_exports$.default\n  }\n  $app_module$.exports.manifest = require(${a})\n  $app_module$.exports.style = { list: [ $app_style$ ] }\n  `:""}\n})\n$app_bootstrap$('@app-application/app', { packagerVersion: QUICKAPP_TOOLKIT_VERSION })\n`),t.join("\n")};
//# sourceMappingURL=app-loader.js.map
