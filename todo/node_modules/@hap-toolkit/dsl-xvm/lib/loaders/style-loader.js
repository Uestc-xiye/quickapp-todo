"use strict";var _loaderUtils=_interopRequireDefault(require("loader-utils")),_compiler=require("@hap-toolkit/compiler"),_sharedUtils=require("@hap-toolkit/shared-utils"),_compilationConfig=require("@hap-toolkit/shared-utils/compilation-config"),_utils=require("./common/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const componentId=(()=>{const e=new Map;let t=1;return{get:t=>e.get(t),add(o){e.has(o)||e.set(o,t++)}}})();module.exports=function(e){const t=this,o=_loaderUtils.default.parseQuery(this.query),i=!!(0,_utils.getWebpackOptions)(this).suppresslogs,r=this.resourcePath,{depList:s,log:l,depFiles:n,jsonStyle:a}=(0,_compiler.parseStyle)({filePath:r,code:e,query:o});_compilationConfig.compileOptionsObject.enableExtractCss&&(componentId.add(r),a&&(a["@info"]={styleObjectId:componentId.get(r)}));const u=JSON.stringify(a,null,2);return l&&l.length&&(0,_sharedUtils.logWarn)(this,l,i),s.forEach((function(e){t.addDependency(e)})),n.forEach(e=>{t.addDependency((0,_utils.convertPath)(e))}),`module.exports = ${u}`};
//# sourceMappingURL=style-loader.js.map
